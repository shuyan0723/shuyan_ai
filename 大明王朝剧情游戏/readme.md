# 锦衣卫夜行录 - 悬疑烧脑剧情游戏

## 游戏简介

《锦衣卫夜行录》是一款以明朝嘉靖年间为背景的悬疑剧情游戏。玩家扮演锦衣卫百户沈默，在嘉靖皇帝突然驾崩的深夜，负责调查这起神秘的死亡案件。

## 游戏特色

### 🎭 丰富的剧情分支
- **30+ 个精心设计的场景**，每个场景都有多个选择分支
- **复杂的政治阴谋**，涉及东厂、内阁、皇室等多方势力
- **多层次的真相揭露**，从表面现象到深层阴谋逐步深入

### 🎮 沉浸式游戏体验
- **角色关系系统**，与不同角色的互动会影响剧情走向
- **属性管理系统**，包括生命值、信任度、声望、线索等
- **选择后果系统**，每个选择都会带来不同的影响和后果

### 🎨 精美的视觉设计
- **古风暗黑主题**，营造悬疑氛围
- **响应式设计**，支持不同设备
- **动态效果**，增强游戏体验

## 游戏剧情

### 主要人物
- **沈默**：玩家角色，锦衣卫百户
- **魏忠贤**：东厂督主，主要反派
- **张居正**：内阁首辅，潜在盟友
- **陶仲文**：方士，神秘人物
- **陆炳**：锦衣卫指挥使，上级
- **李德全**：皇帝贴身太监，关键证人
- **裕王/景王**：皇室成员，皇位竞争者

### 剧情分支
1. **调查路线**：尸体检查、询问证人、查看记录
2. **政治路线**：寻求张居正帮助、联系皇室成员
3. **潜入路线**：伪装身份、从内部瓦解
4. **复仇路线**：直接对抗、刺杀行动

### 多种结局
- **正义结局**：成功揭露真相，正义得到伸张
- **悲剧结局**：为正义牺牲，但精神永存
- **英雄结局**：与敌人同归于尽，成为传奇
- **模糊结局**：真相未完全揭露，留下悬念
- **死亡结局**：在调查过程中死亡
- **背叛结局**：被信任的人背叛

## 技术特性

### 游戏引擎
- **模块化设计**：GameEngine、SceneManager、CharacterManager等
- **状态管理**：完整的游戏状态保存和恢复
- **事件系统**：选择后果和效果管理

### 存档系统
- **本地存储**：使用localStorage保存游戏进度
- **完整状态**：保存所有游戏数据和选择历史
- **多存档支持**：可以保存多个游戏进度

### 响应式设计
- **移动端适配**：支持手机和平板设备
- **桌面端优化**：大屏幕显示效果
- **跨浏览器兼容**：支持主流浏览器

## 游戏玩法

### 基本操作
1. **阅读剧情**：仔细阅读每个场景的描述
2. **做出选择**：根据情况选择最合适的行动
3. **管理属性**：注意生命值、信任度等属性的变化
4. **收集线索**：通过不同选择收集更多线索
5. **存档读档**：及时保存游戏进度

### 策略建议
- **谨慎选择**：每个选择都可能影响后续剧情
- **平衡属性**：不要让任何属性降得太低
- **多周目游戏**：尝试不同的选择路线
- **注意细节**：剧情中的细节可能暗示重要信息

## 文件结构

```
大明王朝剧情游戏/
├── index.html          # 主游戏页面
├── test.html           # 游戏测试页面
├── debug.html          # 调试页面
├── README.md           # 说明文档
├── css/
│   └── style.css       # 游戏样式
└── js/
    └── game.js         # 游戏逻辑
```

## 开发说明

### 运行游戏
1. 确保所有文件都在同一目录下
2. 使用本地服务器运行（如 `npx serve .`）
3. 在浏览器中访问 `http://localhost:3000`

### 测试游戏
- 访问 `http://localhost:3000/test.html` 进行功能测试
- 访问 `http://localhost:3000/debug.html` 进行调试

### 修改游戏
- **添加新场景**：在 `game.js` 的 `initializeScenes()` 方法中添加
- **修改样式**：编辑 `css/style.css` 文件
- **调整属性**：修改 `GameState` 类中的初始值

## 版本历史

### v2.0 (当前版本)
- ✅ 大幅扩展剧情内容，增加30+个新场景
- ✅ 添加复杂的政治阴谋和多方势力
- ✅ 完善角色关系系统和属性管理
- ✅ 增加多种结局和分支路线
- ✅ 优化游戏引擎和错误处理
- ✅ 改进UI设计和用户体验

### v1.0 (初始版本)
- ✅ 基础游戏框架
- ✅ 简单的剧情分支
- ✅ 基本的状态管理

## 未来计划

- [ ] 添加音效和背景音乐
- [ ] 增加更多角色和剧情分支
- [ ] 实现成就系统
- [ ] 添加游戏统计和分析
- [ ] 支持多语言版本

## 技术支持

如果遇到问题，请：
1. 检查浏览器控制台是否有错误信息
2. 确保使用现代浏览器（Chrome、Firefox、Safari、Edge）
3. 尝试清除浏览器缓存
4. 使用测试页面检查游戏状态

## 许可证

本项目仅供学习和娱乐使用。

---

**享受游戏，探索真相！** 🕵️‍♂️